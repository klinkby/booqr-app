server.document-root = "/app"
server.port = 8080
server.username = "web"
server.groupname = "web"
server.errorlog = "/proc/self/fd/2"
server.pid-file = "/tmp/lighttpd.pid"
server.follow-symlink = "disable"
server.modules = ( "mod_rewrite" )

# SPA fallback: serve index.html for all routes
url.rewrite-once = (
  "^/assets/" => "$0",
  "^/.*\.(js|css|svg|png|jpg|jpeg|ico|json|txt)$" => "$0",
  "^/.*$" => "/index.html"
)

index-file.names = ( "index.html" )

mimetype.assign = (
    ".html" => "text/html",
    ".css"  => "text/css",
    ".js"   => "application/javascript",
    ".json" => "application/json",
    ".svg"  => "image/svg+xml",
    ".png"  => "image/png",
    ".jpg"  => "image/jpeg",
    ".ico"  => "image/x-icon"
)
